# ================================================
# RUBY->CONTROLLER->ZERO-CONTROLLER ==============
# ================================================
class ZeroController < ApplicationController

  # ----------------------------------------------
  # CONCERNS -------------------------------------
  # ----------------------------------------------
  include SubheaderHelper

  # ----------------------------------------------
  # FILTERS --------------------------------------
  # ----------------------------------------------
  before_action :authenticate_user!
  before_action :set_subheader

  # ==============================================
  # ACTIONS ======================================
  # ==============================================

  # ----------------------------------------------
  # INDEX ----------------------------------------
  # ----------------------------------------------
  def index
    @current_debt = Debt.where(user_id: current_user.id).where.not(current_balance: 0).order(apr: :desc).first
  end

  # ----------------------------------------------
  # PROGRESS -------------------------------------
  # ----------------------------------------------
  def progress
    @open_debts = Debt.where(user_id: current_user.id).where.not(current_balance: 0).order(apr: :desc)
    @closed_debts = Debt.where(user_id: current_user.id, current_balance: 0).order(apr: :asc)
  end

  # ----------------------------------------------
  # PAYMENTS -------------------------------------
  # ----------------------------------------------
  def payments
  end

  # ==============================================
  # PRIVATE ======================================
  # ==============================================
  private

  # ----------------------------------------------
  # SET-SUBHEADER --------------------------------
  # ----------------------------------------------
  def set_subheader
    subheader_set :zero
  end

end
