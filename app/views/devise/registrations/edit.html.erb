<% set_meta_tags :site => 'Settings â€¢ Shift' %>

<div class="page-content">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <%= render :partial => 'devise/shared/subheader' %>
        <h6>Edit Profile</h6>
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
          <%= devise_error_messages! %>
          <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
            <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
          <% end %>
          <section class="form-section">
            <% if current_user.business %>
              <%= f.fields_for :business do |b| %>
                <div class="row">
                  <div class="col-sm-12">
                    <fieldset class="form-group">
                      <label>Business</label>
                      <%= b.text_field :name, autofocus: true, class: "form-control", placeholder: "Business", required: true %>
                    </fieldset>
                  </div>
                </div>
      	      <%end%>
            <% end %>
            <div class="row">
              <div class="col-sm-12">
                <fieldset class="form-group">
                  <label><%= current_user.business ? "Contact Name" : "Name" %></label>
                  <%= f.text_field :name, autofocus: true, class: "form-control" %>
                </fieldset>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <fieldset class="form-group">
                  <label><%= current_user.business ? "Contact Email" : "Email" %></label>
                  <%= f.email_field :email, class: "form-control" %>
                </fieldset>
              </div>
              <div class="col-sm-6">
                <fieldset class="form-group">
                  <label><%= current_user.business ? "Contact Phone" : "Phone" %></label>
                  <%= f.text_field :mobile_number, class: "form-control", disabled: true %>
                </fieldset>
              </div>
            </div>
          </section>
          <section class="form-section">
            <div class="row">
              <div class="col-sm-12">
                <fieldset class="form-group">
                  <label>Address</label>
                  <%= f.text_field :address, class: "form-control" %>
                </fieldset>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <fieldset class="form-group">
                  <label>City</label>
                  <%= f.text_field :city, class: "form-control" %>
                </fieldset>
              </div>
              <div class="col-sm-3">
                <fieldset class="form-group">
                  <label>State</label>
                  <%= f.text_field :state, class: "form-control" %>
                </fieldset>
              </div>
              <div class="col-sm-3">
                <fieldset class="form-group">
                  <label>Postal Code</label>
                  <%= f.text_field :zip, class: "form-control" %>
                </fieldset>
              </div>
            </div>
          </section>
          <section class="form-section">
            <div class="row">
              <div class="col-sm-6">
                <fieldset class="form-group">
                  <label>Avatar</label>
                  <%= f.file_field :avatar, class: "form-control" %>
                </fieldset>
              </div>
            </div>
          </section>
          <%= f.submit "Update Profile", class: "button -blue" %>
        <% end %>
      </div>
    </div>
  </div>
</div>
